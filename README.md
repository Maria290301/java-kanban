# java-kanban
Task Tracker: приоритет задач и контроль пересечений
В восьмом спринте была расширена функциональность трекера задач: добавлены поля времени, приоритизация задач по дате начала и контроль пересечений временных интервалов. Реализация приближена к функционалу систем планирования с учётом ресурсов.

Реализованные изменения
Учёт времени и длительности
Для каждой задачи и подзадачи добавлены поля:

duration — продолжительность выполнения в минутах (тип Duration);

startTime — дата и время начала выполнения (тип LocalDateTime);

getEndTime() — вычисляемое время завершения задачи.

Для эпиков:

продолжительность (duration) рассчитывается как сумма длительностей всех подзадач;

время начала (startTime) определяется по самой ранней подзадаче;

время завершения (endTime) — по самой поздней подзадаче.

Приоритизация задач
Добавлен метод getPrioritizedTasks(), возвращающий отсортированный список задач и подзадач по возрастанию startTime. Задачи без указания времени начала в сортировке не участвуют.
Для обеспечения быстрого доступа использована структура TreeSet с компаратором по времени.

Проверка пересечений по времени
Реализован механизм проверки пересечений задач:

использован алгоритм наложения отрезков: A.start < B.end && B.start < A.end;

при добавлении и обновлении задач выполняется проверка на пересечения;

реализовано с использованием Stream API.

Обновление сериализации и восстановления данных
Внесены изменения в FileBackedTaskManager:

в CSV-документ добавлены поля startTime и duration;

обеспечено корректное восстановление задач и подзадач с новыми параметрами при загрузке из файла.

Покрытие тестами
Добавлены и обновлены модульные тесты:

проверка расчётов duration, startTime, endTime у эпиков;

тесты на пересечения временных интервалов;

проверка корректности работы методов интерфейса TaskManager через абстрактный класс TaskManagerTest<T extends TaskManager>;

тесты на граничные случаи:

эпики без подзадач;

статусы подзадач: все NEW, все DONE, сочетания NEW/DONE, IN_PROGRESS;

история просмотров задач: пустая, с дубликатами, с удалениями из разных позиций.

Также переписаны циклы for-each с использованием Stream API для повышения читаемости и компактности кода.

Пример формата сохранения данных (CSV)
bash
Копировать
Редактировать
id,type,name,status,description,startTime,duration,epic
1,TASK,Написать документацию,IN_PROGRESS,Создание README,2025-08-06T10:00,90,
2,EPIC,Разработка функционала,DONE,Работа с временем,,,
3,SUBTASK,Добавить проверку пересечений,DONE,Stream API,2025-08-06T12:00,45,2
Технологии
Java 11

Maven

JUnit 5

Stream API

TreeSet

Duration, LocalDateTime

CSV-парсинг


